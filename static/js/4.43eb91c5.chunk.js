(this.webpackJsonpproject1=this.webpackJsonpproject1||[]).push([[4],{295:function(e,t,n){e.exports={header:"Users_header__1DlM3"}},296:function(e,t,n){e.exports={paginatorContainer:"Paginator_paginatorContainer__3G__0",prevButton:"Paginator_prevButton__s1n3R",pageButton:"Paginator_pageButton__2LbGa",selectedPage:"Paginator_selectedPage__HCZjy"}},297:function(e,t,n){e.exports={header:"User_header__1X7ZY",avatar:"User_avatar__5_AgW",userContainer:"User_userContainer__3JmHR"}},298:function(e,t,n){"use strict";n.r(t);var r=n(24),a=n(25),o=n(27),u=n(26),l=n(0),s=n.n(l),i=n(12),c=n(295),f=n.n(c),p=n(86),g=n(296),d=n.n(g),h=s.a.memo((function(e){var t=Object(l.useState)(1),n=Object(p.a)(t,2),r=n[0],a=n[1],o=Math.ceil(e.totalItemsCount/e.pageSize),u=e.portionSize?e.portionSize:10,i=Math.ceil(e.totalItemsCount/u),c=r*u;c=c>o?o:c;for(var f=[],g=(r-1)*u+1;g<=c;g++)f.push(g);return s.a.createElement("div",{className:d.a.paginatorContainer},r>1&&s.a.createElement("button",{key:"prev",className:d.a.prevButton,onClick:function(){a(r-1)}},"prev"),f.map((function(t){return s.a.createElement("button",{key:t,className:d.a.pageButton+" "+(t===e.currentPage?d.a.selectedPage:""),onClick:function(){e.onPageChanged(t)}},t)})),i>r&&s.a.createElement("button",{key:"next",onClick:function(){a(r+1)}},"next"))})),m=n(125),v=n.n(m),C=n(297),_=n.n(C),w=n(23),U=function(e){var t=e.id,n=e.photos,r=e.name,a=e.status,o=e.followed,u=e.isAuth,l=e.followingInProgress,i=e.followUser,c=e.unfollowUser;return s.a.createElement("div",{className:_.a.userContainer},s.a.createElement("span",null,s.a.createElement("div",null,s.a.createElement(w.b,{to:"profile/"+t},s.a.createElement("img",{className:_.a.avatar,src:null!==n.small?n.small:v.a,alt:r}))),s.a.createElement("span",null,s.a.createElement("div",null,r),s.a.createElement("div",null,a)),s.a.createElement("div",null,o?s.a.createElement("button",{onClick:function(){c(t)},disabled:l||!u},"Unfollow"):s.a.createElement("button",{onClick:function(){i(t)},disabled:l||!u},"Follow"))))},P=function(e){return s.a.createElement("div",null,s.a.createElement("h2",{className:f.a.header},"Users"),s.a.createElement(h,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:10}),e.users.map((function(t){return s.a.createElement(U,{key:t.id,id:t.id,photos:t.photos,name:t.name,status:t.status,followed:t.followed,followingInProgress:t.followingInProgress,isAuth:e.isAuth,followUser:e.followUser,unfollowUser:e.unfollowUser})})))},E=n(127),y=n(64);function b(e,t){return e===t}function S(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function k(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var A=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=0,u=r.pop(),l=k(r),s=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(n)),i=e((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return s.apply(null,e)}));return i.resultFunc=u,i.dependencies=l,i.recomputations=function(){return o},i.resetRecomputations=function(){return o=0},i}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,n=null,r=null;return function(){return S(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var z=A((function(e){return e.usersReducer.users}),(function(e){return e.filter((function(e){return!0}))})),j=function(e){return e.usersReducer.pageSize},R=function(e){return e.usersReducer.totalUsersCount},O=function(e){return e.usersReducer.currentPage},x=function(e){return e.usersReducer.isFetching},B=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))).onPageChanged=function(t){var n=e.props,r=n.currentPage,a=n.pageSize,o=n.getUsersList;t!==r&&o(t,a)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;(0,e.getUsersList)(t,n)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.unfollowUser,r=e.followUser,a=e.totalUsersCount,o=e.pageSize,u=e.currentPage,l=e.users,i=e.isAuth;return s.a.createElement(s.a.Fragment,null,t?s.a.createElement(y.a,null):null,s.a.createElement(P,{onPageChanged:this.onPageChanged,unfollowUser:n,followUser:r,totalUsersCount:a,pageSize:o,currentPage:u,users:l,isAuth:i}))}}]),n}(l.Component),F=Object(i.b)((function(e){return{users:z(e),pageSize:j(e),totalUsersCount:R(e),currentPage:O(e),isFetching:x(e),isAuth:e.authReducer.isAuth}}),{followUser:E.b,unfollowUser:E.d,getUsersList:E.c})(B);t.default=F}}]);
//# sourceMappingURL=4.43eb91c5.chunk.js.map